# 2023-08-15

  * I save `popularItems` in a .Rds and put it under `data/popularItems.Rds`.  
    * When generating `popularItems`, I avoid  `popularItems <- append(popularItems, list(popular_items_fromJSON))` since object that updated itself with its showing on both sides of `<-` will significantly slow down your loop when data is large. See the [`#` lines in `R/pre_process.R`](https://github.com/chengtien/Thesis-Supervision-2023/blob/b9b73524a1caf3b7b8b5b957b2255b4e7112fbfe/targets/R/pre_targets.R#L42).   
  * If codes with data frame are slow, try to avoid using data frame, but use R's built-in object types. That is use only atomic vectors (`c()`), lists, and matrices. I wrap up your old cades in [`compute_menu_cost`](https://github.com/chengtien/Thesis-Supervision-2023/blob/b9b73524a1caf3b7b8b5b957b2255b4e7112fbfe/targets/R/support.R#L331-L341), and substitute it with mine [`compute_menu_cost2`](https://github.com/chengtien/Thesis-Supervision-2023/blob/b9b73524a1caf3b7b8b5b957b2255b4e7112fbfe/targets/R/support.R#L319-L329)(see `R/support.R`). Take a look of how not to use data frame and still achieve the same outcome. The speed is at least 10 times faster.  