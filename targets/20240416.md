20240416
================
Cheng,Tien
2024-04-16

- 可以看出如果移除outlier的話，使用1.5倍IQR在10月15日會剔除掉1400筆左右的資料，剩下93%左右，10月25日剩下95%左右。其他期沒有太大問題

| date       | outlierIQR | outlierAbs25 | numOfShop | percentageIQR | percentageAbs25 |
|:-----------|-----------:|-------------:|----------:|--------------:|----------------:|
| 2023-02-03 |      14342 |        14553 |     14560 |     0.9850275 |       0.9995192 |
| 2023-02-10 |      14812 |        15056 |     15058 |     0.9836632 |       0.9998672 |
| 2023-02-17 |      15050 |        15217 |     15220 |     0.9888305 |       0.9998029 |
| 2023-02-24 |      16547 |        16867 |     16885 |     0.9799822 |       0.9989340 |
| 2023-03-04 |      17054 |        17341 |     17352 |     0.9828262 |       0.9993661 |
| 2023-03-11 |      18570 |        18862 |     18874 |     0.9838932 |       0.9993642 |
| 2023-03-18 |      18133 |        18604 |     18620 |     0.9738453 |       0.9991407 |
| 2023-03-25 |      17155 |        18259 |     18307 |     0.9370733 |       0.9973781 |
| 2023-04-27 |      19140 |        19684 |     19696 |     0.9717709 |       0.9993907 |
| 2023-05-09 |      19074 |        19434 |     19442 |     0.9810719 |       0.9995885 |
| 2023-05-16 |      22652 |        22897 |     22906 |     0.9889112 |       0.9996071 |
| 2023-05-23 |      23416 |        23705 |     23713 |     0.9874752 |       0.9996626 |
| 2023-05-31 |      23881 |        24255 |     24261 |     0.9843370 |       0.9997527 |
| 2023-06-05 |      22271 |        22600 |     22613 |     0.9848760 |       0.9994251 |
| 2023-06-14 |      21030 |        21595 |     21618 |     0.9728004 |       0.9989361 |
| 2023-07-01 |      21640 |        22295 |     22318 |     0.9696209 |       0.9989694 |
| 2023-07-22 |      25147 |        25310 |     25323 |     0.9930498 |       0.9994866 |
| 2023-07-26 |      24592 |        25066 |     25080 |     0.9805423 |       0.9994418 |
| 2023-08-06 |       5831 |         5874 |      5876 |     0.9923417 |       0.9996596 |
| 2023-08-13 |       5182 |         5235 |      5237 |     0.9894978 |       0.9996181 |
| 2023-08-20 |      21131 |        21303 |     21313 |     0.9914606 |       0.9995308 |
| 2023-08-28 |      12185 |        12360 |     12365 |     0.9854428 |       0.9995956 |
| 2023-09-04 |      11900 |        12201 |     12211 |     0.9745312 |       0.9991811 |
| 2023-09-21 |      20556 |        20957 |     20964 |     0.9805381 |       0.9996661 |
| 2023-10-04 |      20155 |        20270 |     20273 |     0.9941795 |       0.9998520 |
| 2023-10-08 |      19471 |        19689 |     19695 |     0.9886266 |       0.9996954 |
| 2023-10-15 |      18867 |        19541 |     20272 |     0.9306926 |       0.9639404 |
| 2023-10-25 |      19921 |        20740 |     20803 |     0.9576023 |       0.9969716 |
| 2023-11-08 |      19919 |        20472 |     20507 |     0.9713269 |       0.9982933 |
| 2023-11-15 |      19315 |        19907 |     19963 |     0.9675399 |       0.9971948 |
| 2023-11-29 |      10799 |        11124 |     11146 |     0.9688678 |       0.9980262 |
| 2023-12-06 |       7361 |         7560 |      7586 |     0.9703401 |       0.9965726 |

- 因此去看10月25日的資料，拿k3z3當例子，商品欄位有46欄

``` r
shopMenu1$product
```

    ##  [1] "原味臻寶炸雞"                    "台式椒鹽臻寶炸雞"               
    ##  [3] "川味麻辣臻寶炸雞"                "泰式糖醋臻寶炸雞"               
    ##  [5] "極餓獅排"                        "獅王腿排"                       
    ##  [7] "嫩雞薯條"                        "半雞餐"                         
    ##  [9] "全雞餐"                          "黃金雞軟骨"                     
    ## [11] "三臻海味"                        "臻多蝦"                         
    ## [13] "台式搖滾雞皮餅乾"                "半雞分饗餐"                     
    ## [15] "肉多多分饗餐"                    "臻多蝦餐"                       
    ## [17] "一起獅犇餐"                      "老獅雞餐"                       
    ## [19] "台嗑搖滾臻寶餐"                  "極餓獅排餐"                     
    ## [21] "獅王腿排餐"                      "全雞分饗餐"                     
    ## [23] "香蔥腿排蓋飯"                    "香蔥嫩雞蓋飯"                   
    ## [25] "泰式糖醋蓋飯"                    "川味麻辣蓋飯"                   
    ## [27] "台式椒鹽蓋飯"                    "臻寶腿丁蓋飯"                   
    ## [29] "銷魂嫩酥胸蓋飯"                  "黃金脆薯"                       
    ## [31] "QQ棒"                            "咆嘯杏鮑菇"                     
    ## [33] "獅紫薯薯"                        "整顆地瓜"                       
    ## [35] "洋蔥圈起來"                      "拉絲起士球"                     
    ## [37] "銷魂嫩酥胸"                      "大獅蝦餅"                       
    ## [39] "雙喜QQ球"                        "英式紅茶"                       
    ## [41] "茉香綠茶(無糖)"                  "青檸冬瓜爽"                     
    ## [43] "獅奶殺手"                        "白飯"                           
    ## [45] "泰式甜辣醬"                      "本店每筆訂單酌收餐點包裝費2元。"

- 但shopMenu\$variations下的discountedPrice有56欄(10月15日這天開始多了variations這個欄位)

``` r
shopMenu1$variations$discountedPrice
```

    ##  [1] 105 105 105 105 110 170 250 110 170 250 110 170 250  95  95  79 299 550
    ## [19]  79 240  99 165  79 428 543 188 374 352 169 174 174 808 120 100 110 110
    ## [37] 110 110 100  49  49  79  49  49  59  69  59  69  59  30  30  40  40  20
    ## [55]  10   0

- 且無法由shopMenu\$variations下的code

``` r
shopMenu1$variations$code
```

    ##  [1] "7624d5b43d7c21a590dc8a8df60a62f5"    
    ##  [2] "8a27858855e88437e2d1690e888511ff"    
    ##  [3] "efed841e-72a1-4398-b496-70246d141b3e"
    ##  [4] "3979f5af-d8c7-4b31-814f-851fcc38cf3c"
    ##  [5] "b9cb037373f305a47caf8ab46cbcfc95"    
    ##  [6] "a966d8abf001d0f057717559ca5352eb"    
    ##  [7] "abc9e5c6-8b31-4956-95ce-7f13143b0768"
    ##  [8] "a819288c2014ca76e4b818e6bc1ba61f"    
    ##  [9] "8c6a080e7aa136bbb2651142406af46b"    
    ## [10] "428d3b43-175d-41fe-903d-9d363efb2380"
    ## [11] "4c7504bfaf172174760fbe93b9dae76e"    
    ## [12] "7759329bdfa6b3cbb7c6b0ca3977f06a"    
    ## [13] "c4c39f27-3641-4044-9462-34ead7e53677"
    ## [14] "eafbb3644022ebbb32f6f53ee480a3f6"    
    ## [15] "5cd1e8928a6d61f109db25c3fdd9fa67"    
    ## [16] "a33bf79c-1803-438a-8d8a-cabca2b71e2f"
    ## [17] "27ff7cee-3800-43c2-be9d-6520faa1665b"
    ## [18] "b1ea560f-956f-46d6-bb10-6d6a658faaba"
    ## [19] "c4415de4-c6ec-40f2-9b39-76bfa848de22"
    ## [20] "036b85ff-ed1d-4371-a030-6e2f7b1a55f9"
    ## [21] "29e3a29b-1420-46e3-8f4b-cd4423223254"
    ## [22] "ede7c6fb-ec2d-4543-8417-9225d4cc2bbf"
    ## [23] "bc6f062c-7cb1-45a0-9522-36b6cf45239e"
    ## [24] "0547ec90-1086-40a7-b68a-d16a53068040"
    ## [25] "1ac39bb7-c86d-4fd7-b249-566ff6f08e76"
    ## [26] "12be730e-ff7f-4ba0-88c6-a6bc5bc171e0"
    ## [27] "2d6c8c63-e2ef-4e69-a3bc-2d42625bd3e6"
    ## [28] "1a929911-7d7a-4e3d-a703-cc26110d7256"
    ## [29] "0abc78e3-faf5-41a4-b282-085bf8fbafd8"
    ## [30] "14a3678a-6daf-49d3-af8d-588a3387e536"
    ## [31] "bc979376-e855-4a59-a782-8c0de0e5769d"
    ## [32] "80f76c83-b7bc-4bfd-9cd8-a029c65aeed9"
    ## [33] "70e63dc1a68299f16174b0ce4d229300"    
    ## [34] "1024671c-e20c-4f00-a97a-0270212af7d1"
    ## [35] "d8de64fb-0a1e-4026-9586-004cf1ec49c7"
    ## [36] "23c56734-7e39-45da-93f2-d6194136daec"
    ## [37] "da4a1e94-d859-4c36-b02e-26286411a02e"
    ## [38] "89203cf8-edf9-4bbc-85cb-89a5fad75f28"
    ## [39] "80b79a8d-a402-42a2-ba58-f75dfcb74f07"
    ## [40] "82b563f05239a6f9906a94d98e5853e9"    
    ## [41] "0c2223a11a22fe37dcf9b3386f662f0c"    
    ## [42] "be8669c35176de944a2bde6caf86a237"    
    ## [43] "b5b7557d-eace-4fc7-a868-93b057adf8d3"
    ## [44] "1107ee0f-d451-4f0f-923d-02a0a871d21c"
    ## [45] "781070f2-8037-47e5-a8cd-3dfb7e9d53e4"
    ## [46] "b958c7d4-0a64-46e1-a3bd-f9995a84f4f8"
    ## [47] "aebc305b-0149-4d1e-a97f-9c264ee170f2"
    ## [48] "d7f5be3f-b7c5-4c25-9d80-3ff028a4d388"
    ## [49] "9456fd79-fed1-41d5-b563-9dad825873b4"
    ## [50] "7a0343fd0209f839a67173285eb95038"    
    ## [51] "bf77921970912a43245f80913f9210bc"    
    ## [52] "f015fca417880d5de1bc4709b49a88c1"    
    ## [53] "ac8d529d-613c-4880-b444-ee4f512bfb19"
    ## [54] "a2d1a357-db74-498e-a3d9-a127a02d4ae9"
    ## [55] "782a45ad-7351-45b9-a8ec-7f11c431ee4d"
    ## [56] "0d6c3ae1-9f97-4108-bfc0-2eadc9a5c2d2"

和shopMenu\$code去比對出商品的價格(基準期也沒有這些code)

``` r
shopMenu1$code
```

    ##  [1] "261dbaa4c08e662299190c461080804a"    
    ##  [2] "66e832da410540fe07986ed109498cf8"    
    ##  [3] "2aa64c0cd75c22a02aab38ef66122741"    
    ##  [4] "0336045980880edba4284ad8180fba0f"    
    ##  [5] "6c8404b7fb68dec1311d7f3e49616d70"    
    ##  [6] "96209f59fa4fb52c4b70a10ef73054bb"    
    ##  [7] "045208aa-3a1f-4e02-90cf-c9dd56f72b8e"
    ##  [8] "eb3a0eb8-9fd5-4b46-89db-452a5a637afe"
    ##  [9] "3608c50e-2881-4a09-8bc1-46704a1adf0f"
    ## [10] "f979c336-71f1-408c-bd83-d17b4d83696f"
    ## [11] "33a5b6ca-121e-4621-8204-0b966140a2d1"
    ## [12] "62f11bf7-8e2b-40f6-bc63-013fc673726e"
    ## [13] "36e84157-2dd5-49a7-b239-6267ab81401b"
    ## [14] "961b9ad7-d624-4e91-a734-04dde991634a"
    ## [15] "23bd7314-0bc7-4287-b5f0-3123821be040"
    ## [16] "218f127f-a489-4f7d-929f-f8c115f59ef9"
    ## [17] "f7c40f34-0288-4518-b7b5-c19cc493ea07"
    ## [18] "1d3466f5-8fe3-4e23-81a0-7dc5a2c13a0c"
    ## [19] "62194197-06f3-48a7-8a04-301a8b78a30e"
    ## [20] "8d513673-590b-4437-b044-363e49b13541"
    ## [21] "137b8874-9e43-42fb-9310-d70721110a69"
    ## [22] "ff676e43-b6fe-4dd5-b47b-697a7ff6bd67"
    ## [23] "0f92f685e6a97635ff44dcbf98165294"    
    ## [24] "a3dc886e-0aa1-48d7-b9ca-7d52a56ef418"
    ## [25] "e2b81279-60d9-496c-b856-48cc34e67e6d"
    ## [26] "ecd57011-e24d-4910-9313-b9ab0a1478e0"
    ## [27] "1fe60f22-e31d-40af-b193-435888b21059"
    ## [28] "a2b8f538-2dd2-4902-8eb8-50d8c0341632"
    ## [29] "eee96697-4bbd-47ff-bd97-806e53151697"
    ## [30] "2b32885d136cb64eeec049f6dea7a8ed"    
    ## [31] "aa885629eaebb93d2f62732c94a9bc86"    
    ## [32] "c1906f0f861366c1d3be1fbdd04c1eee"    
    ## [33] "a507bc61-c990-4c8b-9a82-4f5a5e6306fe"
    ## [34] "a48cf8cc-7fa7-48a6-bd15-0c65f4995115"
    ## [35] "d682d3fa-7f5b-4266-a844-8ddf6c33f2b1"
    ## [36] "3d21c19a-4c32-4d1e-9772-6dcd08eaa94a"
    ## [37] "eddc85b2-0dbd-4355-80aa-67042443bc99"
    ## [38] "6e12fb5d-bc0c-4a28-9531-d26ae1dba0bb"
    ## [39] "b795b9c0-753d-4f50-add2-d69bdcf60b25"
    ## [40] "d13f2008b91799e268fce0667d74d2d9"    
    ## [41] "42ceca665cd50099196b414bfddf6f19"    
    ## [42] "ecc2c2efba8bae54da28559d77751d79"    
    ## [43] "919422e2-71bf-4f4d-8b82-132cdda53ade"
    ## [44] "3506137b-e3d0-4b14-b739-08fff114519b"
    ## [45] "7854ea8a-b6cf-4ed4-847e-f2db013cbf61"
    ## [46] "77b37708-f7ea-4e2d-8d79-fe5022350627"
