---
title: '20240416'
author: "Cheng,Tien"
date: "2024-04-16"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
shopMenu1<-readRDS("data/shopMenu1.Rds")
```

- 可以看出如果移除outlier的話，使用1.5倍IQR在10月15日會剔除掉1400筆左右的資料，剩下93%左右，10月25日剩下95%左右。其他期沒有太大問題

|date       | outlierIQR| outlierAbs25| numOfShop| percentageIQR| percentageAbs25|
|:----------|----------:|------------:|---------:|-------------:|---------------:|
|2023-02-03 |      14342|        14553|     14560|     0.9850275|       0.9995192|
|2023-02-10 |      14812|        15056|     15058|     0.9836632|       0.9998672|
|2023-02-17 |      15050|        15217|     15220|     0.9888305|       0.9998029|
|2023-02-24 |      16547|        16867|     16885|     0.9799822|       0.9989340|
|2023-03-04 |      17054|        17341|     17352|     0.9828262|       0.9993661|
|2023-03-11 |      18570|        18862|     18874|     0.9838932|       0.9993642|
|2023-03-18 |      18133|        18604|     18620|     0.9738453|       0.9991407|
|2023-03-25 |      17155|        18259|     18307|     0.9370733|       0.9973781|
|2023-04-27 |      19140|        19684|     19696|     0.9717709|       0.9993907|
|2023-05-09 |      19074|        19434|     19442|     0.9810719|       0.9995885|
|2023-05-16 |      22652|        22897|     22906|     0.9889112|       0.9996071|
|2023-05-23 |      23416|        23705|     23713|     0.9874752|       0.9996626|
|2023-05-31 |      23881|        24255|     24261|     0.9843370|       0.9997527|
|2023-06-05 |      22271|        22600|     22613|     0.9848760|       0.9994251|
|2023-06-14 |      21030|        21595|     21618|     0.9728004|       0.9989361|
|2023-07-01 |      21640|        22295|     22318|     0.9696209|       0.9989694|
|2023-07-22 |      25147|        25310|     25323|     0.9930498|       0.9994866|
|2023-07-26 |      24592|        25066|     25080|     0.9805423|       0.9994418|
|2023-08-06 |       5831|         5874|      5876|     0.9923417|       0.9996596|
|2023-08-13 |       5182|         5235|      5237|     0.9894978|       0.9996181|
|2023-08-20 |      21131|        21303|     21313|     0.9914606|       0.9995308|
|2023-08-28 |      12185|        12360|     12365|     0.9854428|       0.9995956|
|2023-09-04 |      11900|        12201|     12211|     0.9745312|       0.9991811|
|2023-09-21 |      20556|        20957|     20964|     0.9805381|       0.9996661|
|2023-10-04 |      20155|        20270|     20273|     0.9941795|       0.9998520|
|2023-10-08 |      19471|        19689|     19695|     0.9886266|       0.9996954|
|2023-10-15 |      18867|        19541|     20272|     0.9306926|       0.9639404|
|2023-10-25 |      19921|        20740|     20803|     0.9576023|       0.9969716|
|2023-11-08 |      19919|        20472|     20507|     0.9713269|       0.9982933|
|2023-11-15 |      19315|        19907|     19963|     0.9675399|       0.9971948|
|2023-11-29 |      10799|        11124|     11146|     0.9688678|       0.9980262|
|2023-12-06 |       7361|         7560|      7586|     0.9703401|       0.9965726|






- 因此去看10月25日的資料，拿k3z3當例子，商品欄位有46欄
```{r}
shopMenu1$product
```

- 但shopMenu$variations下的discountedPrice有56欄(10月15日這天開始多了variations這個欄位)
```{r}
shopMenu1$variations$discountedPrice
```

- 且無法由shopMenu$variations下的code
```{r}
shopMenu1$variations$code


```

和shopMenu$code去比對出商品的價格(基準期也沒有這些code)
```{r}
shopMenu1$code
```


